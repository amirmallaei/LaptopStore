{% extends "base.html" %}
{% block main %}

<div style="max-width:900px; margin:40px auto; background-color:#fff; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.1); padding:25px; font-family:Arial, sans-serif;">

    <h2 style="text-align:center; color:#333; margin-bottom:25px;">ðŸ›’ Your Shopping Cart</h2>
    
    {% if cart.items.all %}
        <table style="width:100%; border-collapse:collapse;">
            <thead>
                <tr style="background-color:#f8f9fa; border-bottom:2px solid #ddd;">
                    <th style="text-align:left; padding:12px;">Product</th>
                    <th style="text-align:center; padding:12px;">Price</th>
                    <th style="text-align:center; padding:12px;">Quantity</th>
                    <th style="text-align:center; padding:12px;">Total</th>
                    <th style="text-align:center; padding:12px;">Action</th>
                </tr>
            </thead>
            <tbody>
                {% for item in cart.items.all %}
                <tr style="border-bottom:1px solid #eee;">
                    <td style="padding:12px;">
                        <strong style="font-size:15px; color:#222;">{{ item.laptop.brand }} {{ item.laptop.model_name }}</strong><br>
                        <small style="color:#777;">{{ item.laptop.processor }} | {{ item.laptop.gpu }}</small>
                    </td>
                    <td style="text-align:center; padding:12px; color:#007bff; font-weight:bold;">
                        ${{ item.laptop.price }}
                    </td>
                    <td style="text-align:center; padding:12px;">
                        <form action="" method="post" style="display:inline;">
                            {% csrf_token %}
                            <input type="number" name="quantity" value="{{ item.quntity }}" min="1" 
                                   style="width:60px; padding:4px; text-align:center; border:1px solid #ccc; border-radius:4px;">
                            <button type="submit" 
                                    style="background-color:#007bff; color:#fff; border:none; padding:5px 10px; border-radius:4px; cursor:pointer; margin-left:5px;">
                                Update
                            </button>
                        </form>
                    </td>
                    <td style="text-align:center; padding:12px; color:#28a745; font-weight:bold;">
                        ${{ item.total_price }}
                    </td>
                    <td style="text-align:center; padding:12px;">
                        <form action="" method="post" style="display:inline;">
                            {% csrf_token %}
                            <button type="submit" 
                                    style="background-color:#dc3545; color:#fff; border:none; padding:6px 12px; border-radius:4px; cursor:pointer;">
                                Remove
                            </button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div style="margin-top:25px; text-align:right;">
            <span style="font-size:18px; color:#333; margin-right:15px;">Total Price:</span>
            <strong style="font-size:20px; color:#007bff;">${{ cart.total_price }}</strong>
        </div>

        <div style="margin-top:30px; text-align:right;">
            <a href="" 
               style="text-decoration:none; background-color:#6c757d; color:white; padding:10px 20px; border-radius:5px; margin-right:10px;">
               Continue Shopping
            </a>
            <a href="" 
               style="text-decoration:none; background-color:#28a745; color:white; padding:10px 20px; border-radius:5px;">
               Proceed to Checkout
            </a>
        </div>

    {% else %}
        <p style="text-align:center; color:#555; font-size:16px; margin-top:20px;">
            Your cart is empty.<br>
           
        </p>
    {% endif %}
</div>

{% endblock %}
